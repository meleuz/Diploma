## План автоматизации тестирования сценария покупки тура.

### Перечень автоматизируемых сценариев

#### 1. Успешная оплата по карте:

* На странице сервиса нажать кнопку "Купить"
  
* Ввести валидные данные одобреной карты
  
* Нажать кнопку "Продолжить"

*Ожидаемый результат:*  Данные о том, что успешно совершена покупка, появляются в базе, при этом данные карты не сохраняются. Пользователь видит сообщение об успешной покупке

#### 2. Успешная покупка в кредит

* На странице сервиса нажать кнопку "Купить в кредит"
  
* Ввести валидные данные одобреной карты
  
* Нажать кнопку "Продолжить"

*Ожидаемый результат:*  Данные о том, что успешно совершена покупка в кредит, появляются в базе, при этом данные карты не сохраняются. Пользователь видит сообщение об успешной покупке

#### 3. Попытка оплаты по карте с недостаточным балансом:

* На странице сервиса нажать кнопку "Купить"
  
* Ввести данные отклоненной карты
  
* Нажать кнопку "Продолжить"

*Ожидаемый результат:*  Покупка не совершается. Данные о том, что покупка отклонена, появляются в базе, при этом данные карты не сохраняются. Пользователь видит сообщение об ошибке

#### 4. Попытка покупки в кредит по карте с недостаточным балансом:

* На странице сервиса нажать кнопку "Купить в кредит"
  
* Ввести данные отклоненной карты
  
* Нажать кнопку "Продолжить"

*Ожидаемый результат:*  Покупка не совершается. В базе появляются данные о том, что покупка в кредит отклонена, при этом данные карты не сохраняются. Пользователь видит сообщение об ошибке

#### 5. Попытка оплаты с невалидными данными:

* На странице сервиса нажать кнопку "Купить"
  
* Ввести невалидные данные:
  
    * номер карты из четырех цифр
      
    * ввод букв в поле номера карты
      
    * 13 месяц
      
    * прошедший год
      
    * имя владельца кириллицей
      
    * ввод цифр в поле "Владелец"
      
    * ввод спецсимволов в поле "Владелец"
      
    * ввод cvc/cvv из одной цифры
    
* Нажать кнопку "Продолжить"

*Ожидаемый результат:*  Покупка не совершается. Пользователь видит сообщение о неверном формате поля

#### 6. Попытка покупки в кредит с невалидными данными:

* На странице сервиса нажать кнопку "Купить в кредит"
  
* Ввести невалидные данные:
  
    * номер карты из четырех цифр
      
    * ввод букв в поле номера карты
      
    * 13 месяц
      
    * прошедший год
      
    * имя владельца кириллицей
      
    * ввод цифр в поле "Владелец"
      
    * ввод спецсимволов в поле "Владелец"
      
    * ввод cvc/cvv из одной цифры
    
* Нажать кнопку "Продолжить"

*Ожидаемый результат:*  Покупка не совершается. Пользователь видит сообщение о неверном формате поля

#### 7. Попытка оплаты с незаполненной формой:

* На странице сервиса нажать кнопку "Купить"
  
* Оставить форму пустой и нажать кнопку "Продолжить"

*Ожидаемый результат:*  Покупка не совершается. Пользователь видит сообщения о необходимости заполнить поля

#### 8. Попытка покупки в кредит с незаполненной формой:

* На странице сервиса нажать кнопку "Купить в кредит"
  
* Оставить форму пустой и нажать кнопку "Продолжить"

*Ожидаемый результат:*  Покупка не совершается. Пользователь видит сообщения о необходимости заполнить поля

#### 9. Проверка поведения системы при падении базы данных.

#### 10. Проверка поведения системы при отсутствии связи с сервером.

### Перечень используемых инструментов с обоснованием выбора

* _Java 11_ - универсальный язык, позволяющий работать на всех ОС и различном оборудовании за счет виртуальной машины, которая полностью контролирует безопасность и прерывает работу если что-то пошло не так (несанкционированный доступ и пр.)

* _IntelliJ IDEA_ - среда разработки для различных языков, совместимая с различными инструментами и возможностью их комбинирования и настройки под конкретный случай.

* _Docker_ - для развертывания виртуальных контейнеров и запуске в них баз данных MySQL и PostgreSQL, а также сервисов банка на NodeJS

* _JUnit5_ - тестовый фреймворк, совместимый с JVM, содержит необходимые аннотации и assert’ы

* _Gradle_ - система сборки проекта. По сравнению с Maven, в Gradle проще подключать зависимости, меньше кода, гибкость системы.

* _Faker_ - система генерации случайных данных для тестов. Позволяет создать различные данные автоматически с учетом местоположения, а не придумывать данные и напрямую писать их в код.

* _Lombok_ - плагин для создания аннотаций, заменяющих значительное количество однообразных конструкторов, getters/setters и пр.

* _Selenide_ - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver. Подключение веб-драйвера происходит автоматически, простое написание кода тестов

* _Allure Report_ - система репортинга. Простое подключение к тестам, возможность отслеживать данные на протяжении времени

* _Git_ - система контроля версий. Удобство, возможность одновременной параллельной разработки, есть интеграция с IntelliJ IDEA

###  Перечень и описание возможных рисков при автоматизации.
* Отсутствие документации и описания приложения, нет информации о том, как должно работать приложение, характеристики полей, что происходит при успешной оплате тура, при одобрении кредита, при отказе в оплате путевки или выдаче кредита. Это может привести к тому, что часть важных тестовых сценариев будет не учтена, какие-то тесты будут некорректно составлены, что повлечет за собой недостоверность отчетов и в дальнейшем потребуется вносить много изменений.

* Работа с симуляторами банковских сервисов, может повлиять на то, что взаимодействие с реальными сервисами может отличаться от взаимодействия с симуляторами, есть вероятность пропустить ошибки.

* Тестирование работы приложения тестовыми, а не реальными данными, так же может привести к тому, что некоторые ошибки работы приложения не будут выявлены, т.к. тестирование всегда будет выполняться с одинаковыми данными.

### Интервальная оценка с учётом рисков (в часах)

С учетом возникновения рисковых ситуации для написания автотестов понадобится около 120 часов.

### План сдачи работ

* Готовность автотестов - 8 рабочих дней после утверждения плана и разрешения вопросов;

* Результат работы автотестов - документы по итогам тестирования (отчет по итогам тестирования + баг-репорты) - 3 рабочих дня ;

* Подготовка отчёта по автоматизации - 3 рабочих для после проведения всех работ.